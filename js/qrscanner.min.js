$(document).ready(function(){$("#scheda-QR").on("click",function(){$("#lettoreQR").show(),scanner=new Instascan.Scanner({video:$("#videoQR")[0],backgroundScan:!1}),scanner.addListener("scan",function(e){e.match("^pr-")?($("#testoQR").val(e),convalidaPrenotazione($("#testoQR").val())):generaAlert("red","Errore","Codice QR inquadrato non inerente ad una prenotazione.")});try{Instascan.Camera.getCameras().then(function(e){0<e.length?scanner.start(e[0]).catch(function(e){generaAlert("red","Errore","La lettura dei codici QR via HTTP è supportata solo da Firefox o Edge. Assicurati di avere un browser compatibile o usa HTTPS per abilitare il supporto anche su Chrome.")}):generaAlert("red","Errore","Nessuna fotocamera trovata. La lettura dei codici QR verrà quindi disabilitata.")}).catch(function(e){generaAlert("red","Errore","Errore nell'inizializzazione del lettore QR. La lettura dei codici QR non sarà quindi possibile.")})}catch(e){generaAlert("red","Errore","Errore nell'inizializzazione del lettore QR. La lettura dei codici QR non sarà quindi possibile.")}bloccaScroll()})});